<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Role Card Game</title>

<style>
body{
    margin:0;
    font-family:Arial;
    background:linear-gradient(135deg,#1e1e1e,#2c3e50);
    color:white;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    height:100vh;
    text-align:center;
}

select, button{
    padding:8px 15px;
    font-size:16px;
    border-radius:6px;
    border:none;
    margin:10px;
    cursor:pointer;
}

.card{
    width:150px;
    margin-top:20px;
    cursor:pointer;
}

.hidden{
    display:none;
}

h2{
    margin-top:10px;
}
</style>
</head>
<body>

<div id="setup">
    <h1>Choose Players</h1>
    <select id="playerCount">
        <option value="2">2 Players</option>
        <option value="3">3 Players</option>
        <option value="4">4 Players</option>
        <option value="5">5 Players</option>
        <option value="6">6 Players</option>
        <option value="7">7 Players</option>
    </select>
    <br>
    <button onclick="startGame()">Start Game</button>
</div>

<div id="game" class="hidden">
    <h2 id="turnText"></h2>
    <img id="card" class="card" src="back.png">
</div>

<div id="end" class="hidden">
    <h1>Game Finished ðŸŽ‰</h1>
    <button onclick="location.reload()">Play Again</button>
</div>

<script>

const allRoles = [
    "card1.png",
    "card2.png",
    "card3.png",
    "card4.png",
    "card5.png",
    "card6.png",
    "card7.png"
];

let roles = [];
let currentPlayer = 0;
let showingRole = false;

const card = document.getElementById("card");
const turnText = document.getElementById("turnText");

function shuffle(array){
    return array.sort(()=>0.5 - Math.random());
}

function startGame(){
    const count = parseInt(document.getElementById("playerCount").value);

    roles = shuffle(allRoles.slice()).slice(0,count);

    document.getElementById("setup").classList.add("hidden");
    document.getElementById("game").classList.remove("hidden");

    currentPlayer = 0;
    showingRole = false;

    updateTurn();
}

function updateTurn(){
    turnText.textContent = "Player " + (currentPlayer+1) + " Turn";
    card.src = "back.png";
}

card.onclick = function(){

    if(currentPlayer >= roles.length){
        document.getElementById("game").classList.add("hidden");
        document.getElementById("end").classList.remove("hidden");
        return;
    }

    if(!showingRole){
        card.src = roles[currentPlayer];
        showingRole = true;
    }else{
        showingRole = false;
        currentPlayer++;

        if(currentPlayer >= roles.length){
            document.getElementById("game").classList.add("hidden");
            document.getElementById("end").classList.remove("hidden");
        }else{
            updateTurn();
        }
    }
}

</script>

</body>
</html>